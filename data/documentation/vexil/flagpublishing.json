{"seeAlsoSections":[{"title":"The Flag Pole","identifiers":["doc:\/\/Vexil\/documentation\/Vexil\/FlagPole","doc:\/\/Vexil\/documentation\/Vexil\/VexilConfiguration","doc:\/\/Vexil\/documentation\/Vexil\/Sources","doc:\/\/Vexil\/documentation\/Vexil\/FlagKeys"],"generated":true}],"schemaVersion":{"major":0,"minor":1,"patch":0},"sections":[],"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"A key part of declarative programming is the ability to react to changes over time. Vexil supports this by declaring a "},{"type":"codeVoice","code":"Publisher"},{"type":"text","text":" that will deliver a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Vexil\/documentation\/Vexil\/Snapshot"},{"type":"text","text":" of the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Vexil\/documentation\/Vexil\/FlagPole"},{"type":"text","text":" any time one of its values changes."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This could be the addition or removal of a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Vexil\/documentation\/Vexil\/FlagValueSource"},{"type":"text","text":" or one of those sources reporting the change. Either way, a new "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Vexil\/documentation\/Vexil\/Snapshot"},{"type":"text","text":" will be delivered that you can subscribe to."}]},{"type":"codeListing","syntax":"swift","code":["let flagPole = FlagPole(hoist: MyFlags.self)","","flagPole.publisher","    .sink { snapshot in","        \/\/ ... do something with the flag snapshot","    }"]},{"anchor":"Subscribing-to-individual-flags","level":3,"type":"heading","text":"Subscribing to individual flags"},{"type":"paragraph","inlineContent":[{"type":"text","text":"A common approach is to subscribe to an individual flag and update your app in response to any changes in that flagâ€™s value:"}]},{"type":"codeListing","syntax":"swift","code":["let flagPole = FlagPole(hoist: MyFlags.self)","","flagPole.publisher","    .map { $0.subgroup.myBooleanFlag }","    .removeDuplicates()","    .sink { flag in","        \/\/ .. do something when flag changes from false <-> true.","    }"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"An in fact Vexil provides a convenience "},{"type":"codeVoice","code":"Publisher"},{"type":"text","text":" for this scenario:"}]},{"type":"codeListing","syntax":"swift","code":["let flagPole = FlagPole(hoist: MyFlags.self)","","flagPole.subgroup.$myBooleanFlag.publisher","    .sink { flag in","        \/\/ .. do something when the flag value changes","    }"]},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Note:"}]},{"type":"text","text":" If the type of your "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Vexil\/documentation\/Vexil\/Flag"},{"type":"text","text":" also conforms to "},{"type":"codeVoice","code":"Equatable"},{"type":"text","text":", the flag-specific publisher will emit the value only when it has changed (using "},{"type":"codeVoice","code":"removeDuplicates()"},{"type":"text","text":"). If your "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Vexil\/documentation\/Vexil\/Flag"},{"type":"text","text":" does not conform to "},{"type":"codeVoice","code":"Equatable"},{"type":"text","text":" it will be unable to remove the duplicates and emit every time the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Vexil\/documentation\/Vexil\/FlagPole"},{"type":"text","text":" changes."}]}]}],"variants":[{"paths":["\/documentation\/vexil\/flagpublishing"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/Vexil\/documentation\/Vexil\/FlagPublishing","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Vexil supports real-time updates when flag values change through the use of Combine."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Flag Publishing","role":"article","modules":[{"name":"Vexil"}]},"hierarchy":{"paths":[["doc:\/\/Vexil\/documentation\/Vexil"]]},"documentVersion":0,"references":{"doc://Vexil/documentation/Vexil/FlagPole":{"role":"symbol","title":"FlagPole","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"FlagPole"}],"abstract":[{"type":"text","text":"A "},{"type":"codeVoice","code":"FlagPole"},{"type":"text","text":" hoists a group of feature flags \/ feature toggles."}],"identifier":"doc:\/\/Vexil\/documentation\/Vexil\/FlagPole","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"FlagPole"}],"url":"\/documentation\/vexil\/flagpole"},"doc://Vexil/documentation/Vexil/Sources":{"role":"article","title":"Flag Hierarchy","abstract":[{"type":"text","text":"The Vexil FlagPole supports multiple backend flag sources. This guide walks through the built-in sources, how a FlagPole determines the source hierarchy and how to manipulate it."}],"identifier":"doc:\/\/Vexil\/documentation\/Vexil\/Sources","kind":"article","type":"topic","url":"\/documentation\/vexil\/sources"},"doc://Vexil/documentation/Vexil/VexilConfiguration":{"role":"symbol","title":"VexilConfiguration","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"VexilConfiguration"}],"abstract":[{"type":"text","text":"A configuration struct passed into the "},{"type":"codeVoice","code":"FlagPole"},{"type":"text","text":" to configure it."}],"identifier":"doc:\/\/Vexil\/documentation\/Vexil\/VexilConfiguration","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"VexilConfiguration"}],"url":"\/documentation\/vexil\/vexilconfiguration"},"doc://Vexil/documentation/Vexil":{"role":"collection","title":"Vexil","abstract":[{"type":"text","text":"Vexil (named for Vexillology) is a Swift package for managing feature flags (also called feature toggles) in a flexible, multi-provider way."}],"identifier":"doc:\/\/Vexil\/documentation\/Vexil","kind":"symbol","type":"topic","url":"\/documentation\/vexil"},"doc://Vexil/documentation/Vexil/Snapshot":{"role":"symbol","title":"Snapshot","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Snapshot"}],"abstract":[{"type":"text","text":"A "},{"type":"codeVoice","code":"Snapshot"},{"type":"text","text":" serves multiple purposes in Vexil. It is a point-in-time container of flag values, and is also"},{"type":"text","text":" "},{"type":"text","text":"mutable and can be applied \/ saved to a "},{"type":"codeVoice","code":"FlagValueSource"},{"type":"text","text":"."}],"identifier":"doc:\/\/Vexil\/documentation\/Vexil\/Snapshot","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Snapshot"}],"url":"\/documentation\/vexil\/snapshot"},"doc://Vexil/documentation/Vexil/Flag":{"role":"symbol","title":"Flag","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Flag"}],"abstract":[{"type":"text","text":"A wrapper representing a Feature Flag \/ Feature Toggle."}],"identifier":"doc:\/\/Vexil\/documentation\/Vexil\/Flag","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Flag"}],"url":"\/documentation\/vexil\/flag"},"doc://Vexil/documentation/Vexil/FlagValueSource":{"role":"symbol","title":"FlagValueSource","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"FlagValueSource"}],"abstract":[{"type":"text","text":"A simple protocol that describes a source of "},{"type":"codeVoice","code":"FlagValue"},{"type":"text","text":"s"}],"identifier":"doc:\/\/Vexil\/documentation\/Vexil\/FlagValueSource","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"FlagValueSource"}],"url":"\/documentation\/vexil\/flagvaluesource"},"doc://Vexil/documentation/Vexil/FlagKeys":{"role":"article","title":"Flag Keys","abstract":[{"type":"text","text":"An in depth at how Vexil calculates the key for each of its flags, and how you can control that process."}],"identifier":"doc:\/\/Vexil\/documentation\/Vexil\/FlagKeys","kind":"article","type":"topic","url":"\/documentation\/vexil\/flagkeys"}}}